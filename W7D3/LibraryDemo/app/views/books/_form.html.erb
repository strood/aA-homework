
<!-- Things to change
  - Action -DONE
  - hidden input PATCH - Done
  - prefilled values - Done
  - button text

 -->
<!-- Action: url to which we want ot send data -->
<!-- method: HTTP method we would like to use when talking to url -->

<% if action == :edit %>
  <% action_url = book_url(book) %>
<% else %>
  <% action_url = books_url  %>
<% end %>

<form action="<%= action_url %>" method="post">
  <!-- name: will be the way the params are named when passed to the url Key will be title, val will be input-->
  <% if action == :edit %>
    <input type="hidden" name="_method" value="PATCH">
  <% end %>

  <label for="title">Title:</label>
  <input id="title" type="text" name="book[title]" value=" <%=book.title%> ">

    <br>

  <label for="author">Author:</label>
  <input id="author" type="text" name="book[author]" value=" <%=book.author%> ">

    <br>

  <label for="year">Year:</label>
  <!-- type date would work better, but for this simple example it will be fine as string -->
  <input id="year" type="text" name="book[year]" value=" <%=book.year%> ">

    <br>

    <label for="category">Category</label>
    <select class="" id="category" name="book[category]">
        <option disabled <%= @book.category  ? "" : "selected" %> >--Please Select--</option>
        <option value="Fiction" <%= @book.category == "Fiction" ? "seclected" : "" %> >Fiction</option>
        <option value="Non-Fiction" <%= @book.category == "Non-Fiction" ? "seclected" : "" %>>Non-Fiction</option>
        <option value="Biography" <%= @book.category == "Biography" ? "seclected" : "" %>>Biography</option>
    </select>

    <br>
    <br>

  <label for="description">Description</label>
  <textarea name="book[description]">
    <%=book.description%>
  </textarea>

    <br>

  <input type="submit" value=" <%= action == :edit ? 'update book' : 'add book' %> ">

</form>
